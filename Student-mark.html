<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<body>
    <h1 style="text-align: center;">STUDENT MARK STATEMENT</h1>
    <div class="container d-flex flex-column align-items-center">
        <form onsubmit="calculate(event)">
            <label for="rollno">Roll no.</label>
            <input type="text" class="form-control" id="rollno">
            <label for="studentname" i>Name</label>
            <input type="text" class="form-control" id="stuname">
            <label for="mark1">Mark1</label>
            <input type="text" class="form-control" id="mark1">
            <label for="mark2">Mark2</label>
            <input type="text" class="form-control" id="mark2">
            <label for="mark3">Mark3</label>
            <input type="text" class="form-control" id="mark3">
            <button type="submit" class="btn btn-primary" onclick="">Submit</button>
        </form>
    </div>
    <table class="table">
        <thead>
            <th>Roll No.</th>
            <th>Name</th>
            <th>Mark1</th>
            <th>Mark2</th>
            <th>Mark3</th>
            <th>Total</th>
            <th>Average</th>
            <th>Result</th>
            <th>Grade</th>
        </thead>
        <tbody id="tablebody"></tbody>
    </table>
    <script>
        arr = [];
        function calculate() {
            event.preventDefault()
            let rollno = document.getElementById("rollno").value
            let stuname = document.getElementById("stuname").value
            let mark1 = parseInt(document.getElementById("mark1").value)
            let mark2 = parseInt(document.getElementById("mark2").value)
            let mark3 = parseInt(document.getElementById("mark3").value)
            let marks1 = document.getElementById("mark1").value
            let marks2 = document.getElementById("mark2").value
            let marks3 = document.getElementById("mark3").value
            if (arr.includes(rollno)) {
                alert("Roll no already exist")
                document.getElementById("rollno").value = ""
            }
            else {
                let total = mark1 + mark2 + mark3
                let avg = total / 3
                average = avg.toFixed(2)
                result = ""
                grade = "O"
                if (rollno == "" || stuname == "" || marks1 == "" || marks2 == "" || marks3 == "") {
                    alert("All the fields are mandatory*")
                }
                else {
                    if (mark1 <= 35 || mark2 <= 35 || mark3 <= 35) {
                        result = "Fail"
                    }
                    else {
                        result = "Pass"
                    }

                    if (average >= 75) {
                        grade = "O"
                    }
                    else if (average >= 50) {
                        grade = "A"
                    }
                    else if (average <= 50) {
                        grade = "B"
                    }

                    if (result == "Fail") {
                        grade = ""
                    }

                    if (mark1 > 100) {
                    alert("Kindly enter the valid marks")
                    document.getElementById("mark1").value = ""
                }
                    else if(mark2 > 100){
                        alert("Kindly enter the valid marks")
                        document.getElementById("mark2").value = "" 
                    } 
                    else if(mark3 > 100) {
                        alert("Kindly enter the valid marks")
                        document.getElementById("mark3").value = ""
                    }
                    else {
                        arr.push(rollno)
                        let tablebody = document.getElementById("tablebody")
                        let output = (`
            <tr>
                <td>${rollno}</td>
                <td>${stuname}</td>
                <td>${mark1}</td>
                <td>${mark2}</td>
                <td>${mark3}</td>
                <td>${total}</td>
                <td>${average}</td>
                <td>${result}</td>
                <td>${grade}</td>   
            </tr>`);
                        tablebody.innerHTML += output
                    }
                }
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body></html>